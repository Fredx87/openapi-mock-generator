{"version":3,"sources":["features/editor/EditorContainer.tsx","features/editor/monaco-options.ts","features/editor/useCurrentRef.ts","features/editor/useEditorResize.ts","features/editor/GeneratedEditor.tsx","features/editor/chance-methods.ts","features/editor/faker-methods.ts","features/editor/schemas.ts","features/editor/SchemaEditor.tsx","features/editor/constants.ts","features/editor/EditorsWrapper.tsx"],"names":["EditorContainer","styled","div","monacoDefaultOptions","minimap","enabled","lineNumbers","wordWrap","tabSize","useCurrentRef","referenceName","useParams","decodeURIComponent","useEditorResize","editorRef","containerRef","useRef","useResize","window","requestAnimationFrame","current","layout","jsf","extend","faker","Chance","option","GeneratedEditor","currentRef","document","useSelector","getDocument","currentSchemaValue","_","JSON","stringify","getObjectByRef","useState","value","setValue","useEffect","parsed","parse","schema","Object","keys","length","TE","schemas","components","schemaObj","cloneDeep","pipe","$RefParser","dereference","E","generate","gen","generateValue","jsonSchemaRef","is","$ref","then","res","right","console","error","left","options","ariaLabel","readOnly","data-testid","ref","language","editorDidMount","editor","focus","fakerObjProperties","fakerMethods","reduce","acc","type","chanceObjProperties","chanceMethods","oneOf","jsonDiagnosticOptions","validate","uri","fileMatch","properties","title","multipleOf","minimum","exclusiveMinimum","maximum","exclusiveMaximum","default","maxLength","minLength","pattern","format","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","items","enum","not","allOf","anyOf","additionalProperties","description","nullable","discriminator","writeOnly","example","externalDocs","deprecated","xml","patternProperties","propertyName","mapping","url","name","namespace","prefix","attribute","wrapped","fake","SchemaEditor","dispatch","useDispatch","projectId","projectName","history","useHistory","refValue","commandRef","disposable","monacoEditor","registerCodeLensProvider","provideCodeLenses","model","lenses","dispose","findMatches","map","m","range","command","id","arguments","matches","resolveCodeLens","codeLens","onChange","throttle","v","setRefValue","editorWillMount","monaco","languages","json","jsonDefaults","setDiagnosticsOptions","addCommand","push","encodeURIComponent","StyledRow","Row","StyledCol","Col","EditorsWrapper","span"],"mappings":"ueAEO,IAAMA,EAAkBC,IAAOC,IAAV,KCAfC,EAAiF,CAC5FC,QAAS,CAAEC,SAAS,GACpBC,YAAa,MACbC,SAAU,KACVC,QAAS,G,QCJJ,SAASC,IAAyB,IAC/BC,EAAkBC,cAAlBD,cACR,OAAOE,mBAAkB,OAACF,QAAD,IAACA,IAAiB,I,cCAtC,SAASG,EACdC,GAIA,IAAMC,EAAeC,iBAAO,MAQ5B,OAPAC,YAAUF,GAAc,WACtBG,OAAOC,uBAAsB,WACvBL,EAAUM,SACZN,EAAUM,QAAQC,eAIjBN,ECETO,IAAIC,OAAO,SAAS,kBAAMC,OAC1BF,IAAIC,OAAO,UAAU,kBAAM,IAAIE,YAC/BH,IAAII,OAAO,uBAAuB,GAClCJ,IAAII,OAAO,uBAAuB,GA4B3B,IAAMC,EAA4B,WACvC,IAAMC,EAAanB,IAEboB,EAAWC,YAAYC,KACvBC,EAAqBF,aAAY,SAAAG,GACrC,GAAIJ,GAAYD,EACd,OAAOM,KAAKC,UAAUC,YAAeR,EAAYC,OANR,EAUnBQ,mBAAS,KAVU,mBAUtCC,EAVsC,KAU/BC,EAV+B,KAYvCzB,EAAYE,mBAElBwB,qBAAU,WACR,GAAIX,GAAYG,EAAoB,CAClC,IAAMS,EAASP,KAAKQ,MAAMV,IA1ChC,SACEW,EACAd,GAC+B,IAAD,EAC9B,GAAmC,IAA/Be,OAAOC,KAAKF,GAAQG,OACtB,OAAOC,IAAS,IAGlB,IAAMC,EAAO,UAAGnB,EAASoB,kBAAZ,aAAG,EAAqBD,QAE/BE,EAAS,eACVP,EADU,CAEbM,WAAY,CACVD,QAASG,YAAUH,MAIvB,OAAOI,YACLL,KAAY,kBAAMM,IAAWC,YAAYJ,KAAYK,KACrDR,KAAS,SAAAN,GAAM,OACbM,IAAcQ,KAAW,kBAAMjC,IAAIkC,SAASf,KAASc,SAEvDR,KAAO,SAAAU,GAAG,OAAIvB,KAAKC,UAAUsB,EAAK,KAAM,QAyBtCC,CAJeC,IAAcC,GAAGnB,GAC5BU,YAAUf,YAAeK,EAAOoB,KAAMhC,IACtCY,EAEkBZ,EAAtB6B,GAAkCI,MAAK,SAAAC,GACjCR,IAAUQ,GACZxB,EAASwB,EAAIC,OAEbC,QAAQC,MAAMH,EAAII,YAIvB,CAACtC,EAAUG,IAEd,IAAMjB,EAAeF,EAAgBC,GAE/BsD,EAAiE,eAClEjE,EADkE,CAErEkE,UAAW,kBACXC,UAAU,IAUZ,OACE,kBAACtE,EAAD,CAAiBuE,cAAY,mBAAmBC,IAAKzD,GACnD,kBAAC,IAAD,CACE0D,SAAS,OACTnC,MAAOA,EACP8B,QAASA,EACTM,eAbiB,SACrBC,GAEA7D,EAAUM,QAAUuD,EACpBA,EAAOC,a,4BC7FI,GACb,OACA,QACA,SACA,YACA,WACA,UACA,UACA,QACA,WACA,MACA,SACA,SACA,WACA,SACA,aACA,QACA,SACA,IACA,MACA,OACA,UACA,UACA,UACA,WACA,YACA,WACA,WACA,OACA,MACA,WACA,MACA,OACA,QACA,aACA,UACA,SACA,OACA,WACA,MACA,OACA,SACA,cACA,OACA,MACA,SACA,gBACA,SACA,cACA,gBACA,cACA,aACA,cACA,YACA,WACA,SACA,SACA,QACA,SACA,QACA,OACA,mBACA,UACA,KACA,OACA,QACA,SACA,OACA,MACA,UACA,MACA,OACA,SACA,UACA,cACA,UACA,WACA,WACA,OACA,cACA,YACA,UACA,QACA,UACA,UACA,WACA,YACA,QACA,SACA,WACA,WACA,SACA,WACA,QACA,SACA,MACA,OACA,OACA,aACA,OACA,cACA,SACA,SACA,QACA,YACA,UACA,OACA,KACA,UACA,iBACA,WACA,YACA,WACA,gBACA,SACA,OACA,MACA,YACA,WACA,MACA,OACA,SACA,KACA,WACA,SACA,WACA,OACA,YACA,gBACA,QACA,QACA,OACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,OACA,MACA,OACA,OACA,aACA,iBACA,MACA,OACA,MACA,cACA,SACA,cACA,QACA,MACA,KACA,UACA,eC3Ja,GACb,gBACA,sBACA,uBACA,cACA,iBACA,cACA,eACA,eACA,gBACA,sBACA,oBACA,kBACA,kCACA,yBACA,kBACA,mBACA,qBACA,yBACA,mBACA,4BACA,iBACA,gBACA,gBACA,gBACA,cACA,cACA,aACA,qBACA,eACA,eACA,kBACA,eACA,qBACA,qBACA,qBACA,wBACA,uBACA,uBACA,2BACA,iBACA,kBACA,sBACA,gBACA,oBACA,mBACA,oBACA,mBACA,sBACA,wBACA,sBACA,aACA,+BACA,gCACA,0BACA,sBACA,iBACA,iBACA,kBACA,sBACA,eACA,iBACA,0BACA,uBACA,uBACA,yBACA,yBACA,eACA,cACA,cACA,eACA,iBACA,iBACA,gBACA,iBACA,aACA,aACA,aACA,kBACA,gBACA,eACA,eACA,eACA,iBACA,kBACA,gBACA,aACA,cACA,iBACA,aACA,kBACA,kBACA,mBACA,aACA,cACA,sBACA,mBACA,cACA,cACA,iBACA,gBACA,kBACA,iBACA,wBACA,oBACA,oBACA,eACA,sBACA,wBACA,sBACA,cACA,gBACA,qBACA,iBACA,eACA,oBACA,kBACA,gBACA,qBACA,kBACA,oBACA,0BACA,qBACA,YACA,cACA,eACA,cACA,aACA,eACA,iBACA,sBACA,uBACA,iBACA,4BACA,2BACA,mBACA,kBACA,wBACA,kBACA,wBACA,uBACA,kBACA,iBACA,uBACA,kBACA,iBC7IIC,EAAqBC,EAAaC,QAAO,SAACC,EAAK5D,GACnD,OAAO,eACF4D,EADL,eAEG5D,EAAU,CACT6D,KAAM,aAGT,IAEGC,EAAsBC,EAAcJ,QAAO,SAACC,EAAK5D,GACrD,OAAO,eACF4D,EADL,eAEG5D,EAAU,CACTgE,MAAO,CAAC,CAAEH,KAAM,SAAW,CAAEA,KAAM,gBAGtC,IAEUI,EAAwE,CACnFC,UAAU,EACVtC,QAAS,CACP,CACEuC,IACE,oFACFC,UAAW,CAAC,KACZ7C,OAAQ,CACNyC,MAAO,CACL,CACEvB,KACE,0EAEJ,CACEA,KACE,gFAKV,CACE0B,IACE,yEACF5C,OAAQ,CACNsC,KAAM,SACNQ,WAAY,CACV,UAAW,CACT5B,KAAM,4CAER,WAAY,CACVA,KAAM,+BAER6B,MAAO,CACLT,KAAM,UAERU,WAAY,CACVV,KAAM,SACNW,QAAS,EACTC,kBAAkB,GAEpBC,QAAS,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","file":"static/js/4.a2fbe845.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const EditorContainer = styled.div`\n  height: 100%;\n  overflow-y: hidden;\n`;\n","import * as monacoEditor from \"monaco-editor/esm/vs/editor/editor.api\";\n\nexport const monacoDefaultOptions: monacoEditor.editor.IStandaloneEditorConstructionOptions = {\n  minimap: { enabled: false },\n  lineNumbers: \"off\",\n  wordWrap: \"on\",\n  tabSize: 2\n};\n","import { useParams } from \"react-router-dom\";\n\nexport function useCurrentRef(): string {\n  const { referenceName } = useParams();\n  return decodeURIComponent(referenceName ?? \"\");\n}\n","import * as monacoEditor from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useRef } from \"react\";\nimport useResize from \"react-resize-observer-hook\";\n\nexport function useEditorResize(\n  editorRef: React.MutableRefObject<\n    monacoEditor.editor.IStandaloneCodeEditor | undefined\n  >\n) {\n  const containerRef = useRef(null);\n  useResize(containerRef, () => {\n    window.requestAnimationFrame(() => {\n      if (editorRef.current) {\n        editorRef.current.layout();\n      }\n    });\n  });\n  return containerRef;\n}\n","import { Chance } from \"chance\";\nimport faker from \"faker\";\nimport * as E from \"fp-ts/es6/Either\";\nimport { pipe } from \"fp-ts/es6/pipeable\";\nimport * as TE from \"fp-ts/es6/TaskEither\";\nimport jsf from \"json-schema-faker\";\nimport $RefParser from \"json-schema-ref-parser\";\nimport cloneDeep from \"lodash-es/cloneDeep\";\nimport * as monacoEditor from \"monaco-editor/esm/vs/editor/editor.api\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport MonacoEditor from \"react-monaco-editor\";\nimport { useSelector } from \"react-redux\";\nimport { getObjectByRef, jsonSchemaRef } from \"../../shared/utils\";\nimport { getDocument, MyDocument } from \"../document/document-slice\";\nimport { EditorContainer } from \"./EditorContainer\";\nimport { monacoDefaultOptions } from \"./monaco-options\";\nimport { useCurrentRef } from \"./useCurrentRef\";\nimport { useEditorResize } from \"./useEditorResize\";\n\njsf.extend(\"faker\", () => faker);\njsf.extend(\"chance\", () => new Chance());\njsf.option(\"alwaysFakeOptionals\", true);\njsf.option(\"failOnInvalidFormat\", false);\n\nfunction generateValue(\n  schema: any,\n  document: MyDocument\n): TE.TaskEither<Error, string> {\n  if (Object.keys(schema).length === 0) {\n    return TE.right(\"\");\n  }\n\n  const schemas = document.components?.schemas;\n\n  const schemaObj = {\n    ...schema,\n    components: {\n      schemas: cloneDeep(schemas)\n    }\n  };\n\n  return pipe(\n    TE.tryCatch(() => $RefParser.dereference(schemaObj), E.toError),\n    TE.chain(parsed =>\n      TE.fromEither(E.tryCatch(() => jsf.generate(parsed), E.toError))\n    ),\n    TE.map(gen => JSON.stringify(gen, null, 2))\n  );\n}\n\nexport const GeneratedEditor: React.FC = () => {\n  const currentRef = useCurrentRef();\n\n  const document = useSelector(getDocument);\n  const currentSchemaValue = useSelector(_ => {\n    if (document && currentRef) {\n      return JSON.stringify(getObjectByRef(currentRef, document));\n    }\n  });\n\n  const [value, setValue] = useState(\" \");\n\n  const editorRef = useRef<monacoEditor.editor.IStandaloneCodeEditor>();\n\n  useEffect(() => {\n    if (document && currentSchemaValue) {\n      const parsed = JSON.parse(currentSchemaValue);\n      const schema = jsonSchemaRef.is(parsed)\n        ? cloneDeep(getObjectByRef(parsed.$ref, document))\n        : parsed;\n\n      generateValue(schema, document)().then(res => {\n        if (E.isRight(res)) {\n          setValue(res.right);\n        } else {\n          console.error(res.left);\n        }\n      });\n    }\n  }, [document, currentSchemaValue]);\n\n  const containerRef = useEditorResize(editorRef);\n\n  const options: monacoEditor.editor.IStandaloneEditorConstructionOptions = {\n    ...monacoDefaultOptions,\n    ariaLabel: \"generated model\",\n    readOnly: true\n  };\n\n  const editorDidMount = (\n    editor: monacoEditor.editor.IStandaloneCodeEditor\n  ) => {\n    editorRef.current = editor;\n    editor.focus();\n  };\n\n  return (\n    <EditorContainer data-testid=\"generated-editor\" ref={containerRef}>\n      <MonacoEditor\n        language=\"json\"\n        value={value}\n        options={options}\n        editorDidMount={editorDidMount}\n      ></MonacoEditor>\n    </EditorContainer>\n  );\n};\n","export default [\n  \"bool\",\n  \"falsy\",\n  \"animal\",\n  \"character\",\n  \"floating\",\n  \"integer\",\n  \"natural\",\n  \"prime\",\n  \"is_prime\",\n  \"hex\",\n  \"letter\",\n  \"string\",\n  \"template\",\n  \"buffer\",\n  \"capitalize\",\n  \"mixin\",\n  \"unique\",\n  \"n\",\n  \"pad\",\n  \"pick\",\n  \"pickone\",\n  \"pickset\",\n  \"shuffle\",\n  \"weighted\",\n  \"paragraph\",\n  \"sentence\",\n  \"syllable\",\n  \"word\",\n  \"age\",\n  \"birthday\",\n  \"cpf\",\n  \"cnpj\",\n  \"first\",\n  \"profession\",\n  \"company\",\n  \"gender\",\n  \"last\",\n  \"israelId\",\n  \"mrz\",\n  \"name\",\n  \"prefix\",\n  \"name_prefix\",\n  \"HIDN\",\n  \"ssn\",\n  \"aadhar\",\n  \"name_suffixes\",\n  \"suffix\",\n  \"name_suffix\",\n  \"nationalities\",\n  \"nationality\",\n  \"android_id\",\n  \"apple_token\",\n  \"wp8_anid2\",\n  \"wp7_anid\",\n  \"bb_pin\",\n  \"avatar\",\n  \"color\",\n  \"domain\",\n  \"email\",\n  \"fbid\",\n  \"google_analytics\",\n  \"hashtag\",\n  \"ip\",\n  \"ipv6\",\n  \"klout\",\n  \"semver\",\n  \"tlds\",\n  \"tld\",\n  \"twitter\",\n  \"url\",\n  \"port\",\n  \"locale\",\n  \"locales\",\n  \"loremPicsum\",\n  \"address\",\n  \"altitude\",\n  \"areacode\",\n  \"city\",\n  \"coordinates\",\n  \"countries\",\n  \"country\",\n  \"depth\",\n  \"geohash\",\n  \"geojson\",\n  \"latitude\",\n  \"longitude\",\n  \"phone\",\n  \"postal\",\n  \"postcode\",\n  \"counties\",\n  \"county\",\n  \"province\",\n  \"state\",\n  \"street\",\n  \"zip\",\n  \"ampm\",\n  \"date\",\n  \"hammertime\",\n  \"hour\",\n  \"millisecond\",\n  \"second\",\n  \"minute\",\n  \"month\",\n  \"timestamp\",\n  \"weekday\",\n  \"year\",\n  \"cc\",\n  \"cc_type\",\n  \"currency_types\",\n  \"currency\",\n  \"timezones\",\n  \"timezone\",\n  \"currency_pair\",\n  \"dollar\",\n  \"euro\",\n  \"exp\",\n  \"exp_month\",\n  \"exp_year\",\n  \"vat\",\n  \"iban\",\n  \"it_vat\",\n  \"cf\",\n  \"pl_pesel\",\n  \"pl_nip\",\n  \"pl_regon\",\n  \"note\",\n  \"midi_note\",\n  \"chord_quality\",\n  \"chord\",\n  \"tempo\",\n  \"coin\",\n  \"d4\",\n  \"d6\",\n  \"d8\",\n  \"d10\",\n  \"d12\",\n  \"d20\",\n  \"d30\",\n  \"d100\",\n  \"rpg\",\n  \"guid\",\n  \"hash\",\n  \"luhn_check\",\n  \"luhn_calculate\",\n  \"md5\",\n  \"file\",\n  \"get\",\n  \"mac_address\",\n  \"normal\",\n  \"normal_pool\",\n  \"radio\",\n  \"set\",\n  \"tv\",\n  \"emotion\",\n  \"blueimp_md5\"\n];\n","export default [\n  \"random.number\",\n  \"random.arrayElement\",\n  \"random.objectElement\",\n  \"random.uuid\",\n  \"random.boolean\",\n  \"random.word\",\n  \"random.words\",\n  \"random.image\",\n  \"random.locale\",\n  \"random.alphaNumeric\",\n  \"helpers.randomize\",\n  \"helpers.slugify\",\n  \"helpers.replaceSymbolWithNumber\",\n  \"helpers.replaceSymbols\",\n  \"helpers.shuffle\",\n  \"helpers.mustache\",\n  \"helpers.createCard\",\n  \"helpers.contextualCard\",\n  \"helpers.userCard\",\n  \"helpers.createTransaction\",\n  \"name.firstName\",\n  \"name.lastName\",\n  \"name.findName\",\n  \"name.jobTitle\",\n  \"name.prefix\",\n  \"name.suffix\",\n  \"name.title\",\n  \"name.jobDescriptor\",\n  \"name.jobArea\",\n  \"name.jobType\",\n  \"address.zipCode\",\n  \"address.city\",\n  \"address.cityPrefix\",\n  \"address.citySuffix\",\n  \"address.streetName\",\n  \"address.streetAddress\",\n  \"address.streetSuffix\",\n  \"address.streetPrefix\",\n  \"address.secondaryAddress\",\n  \"address.county\",\n  \"address.country\",\n  \"address.countryCode\",\n  \"address.state\",\n  \"address.stateAbbr\",\n  \"address.latitude\",\n  \"address.longitude\",\n  \"company.suffixes\",\n  \"company.companyName\",\n  \"company.companySuffix\",\n  \"company.catchPhrase\",\n  \"company.bs\",\n  \"company.catchPhraseAdjective\",\n  \"company.catchPhraseDescriptor\",\n  \"company.catchPhraseNoun\",\n  \"company.bsAdjective\",\n  \"company.bsBuzz\",\n  \"company.bsNoun\",\n  \"finance.account\",\n  \"finance.accountName\",\n  \"finance.mask\",\n  \"finance.amount\",\n  \"finance.transactionType\",\n  \"finance.currencyCode\",\n  \"finance.currencyName\",\n  \"finance.currencySymbol\",\n  \"finance.bitcoinAddress\",\n  \"finance.iban\",\n  \"finance.bic\",\n  \"image.image\",\n  \"image.avatar\",\n  \"image.imageUrl\",\n  \"image.abstract\",\n  \"image.animals\",\n  \"image.business\",\n  \"image.cats\",\n  \"image.city\",\n  \"image.food\",\n  \"image.nightlife\",\n  \"image.fashion\",\n  \"image.people\",\n  \"image.nature\",\n  \"image.sports\",\n  \"image.technics\",\n  \"image.transport\",\n  \"image.dataUri\",\n  \"lorem.word\",\n  \"lorem.words\",\n  \"lorem.sentence\",\n  \"lorem.slug\",\n  \"lorem.sentences\",\n  \"lorem.paragraph\",\n  \"lorem.paragraphs\",\n  \"lorem.text\",\n  \"lorem.lines\",\n  \"hacker.abbreviation\",\n  \"hacker.adjective\",\n  \"hacker.noun\",\n  \"hacker.verb\",\n  \"hacker.ingverb\",\n  \"hacker.phrase\",\n  \"internet.avatar\",\n  \"internet.email\",\n  \"internet.exampleEmail\",\n  \"internet.userName\",\n  \"internet.protocol\",\n  \"internet.url\",\n  \"internet.domainName\",\n  \"internet.domainSuffix\",\n  \"internet.domainWord\",\n  \"internet.ip\",\n  \"internet.ipv6\",\n  \"internet.userAgent\",\n  \"internet.color\",\n  \"internet.mac\",\n  \"internet.password\",\n  \"database.column\",\n  \"database.type\",\n  \"database.collation\",\n  \"database.engine\",\n  \"phone.phoneNumber\",\n  \"phone.phoneNumberFormat\",\n  \"phone.phoneFormats\",\n  \"date.past\",\n  \"date.future\",\n  \"date.between\",\n  \"date.recent\",\n  \"date.month\",\n  \"date.weekday\",\n  \"commerce.color\",\n  \"commerce.department\",\n  \"commerce.productName\",\n  \"commerce.price\",\n  \"commerce.productAdjective\",\n  \"commerce.productMaterial\",\n  \"commerce.product\",\n  \"system.fileName\",\n  \"system.commonFileName\",\n  \"system.mimeType\",\n  \"system.commonFileType\",\n  \"system.commonFileExt\",\n  \"system.fileType\",\n  \"system.fileExt\",\n  \"system.directoryPath\",\n  \"system.filePath\",\n  \"system.semver\"\n];\n","import * as monacoEditor from \"monaco-editor/esm/vs/editor/editor.api\";\nimport chanceMethods from \"./chance-methods\";\nimport fakerMethods from \"./faker-methods\";\n\nconst fakerObjProperties = fakerMethods.reduce((acc, current) => {\n  return {\n    ...acc,\n    [current]: {\n      type: \"array\"\n    }\n  };\n}, {});\n\nconst chanceObjProperties = chanceMethods.reduce((acc, current) => {\n  return {\n    ...acc,\n    [current]: {\n      oneOf: [{ type: \"array\" }, { type: \"object\" }]\n    }\n  };\n}, {});\n\nexport const jsonDiagnosticOptions: monacoEditor.languages.json.DiagnosticsOptions = {\n  validate: true,\n  schemas: [\n    {\n      uri:\n        \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/SchemaOrReference\",\n      fileMatch: [\"*\"],\n      schema: {\n        oneOf: [\n          {\n            $ref:\n              \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Schema\"\n          },\n          {\n            $ref:\n              \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Reference\"\n          }\n        ]\n      }\n    },\n    {\n      uri:\n        \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Schema\",\n      schema: {\n        type: \"object\",\n        properties: {\n          \"x-faker\": {\n            $ref: \"https://github.com/Marak/faker.js/Schema\"\n          },\n          \"x-chance\": {\n            $ref: \"https://chancejs.com/Schema\"\n          },\n          title: {\n            type: \"string\"\n          },\n          multipleOf: {\n            type: \"number\",\n            minimum: 0,\n            exclusiveMinimum: true\n          },\n          maximum: {\n            type: \"number\"\n          },\n          exclusiveMaximum: {\n            type: \"boolean\",\n            default: false\n          },\n          minimum: {\n            type: \"number\"\n          },\n          exclusiveMinimum: {\n            type: \"boolean\",\n            default: false\n          },\n          maxLength: {\n            type: \"integer\",\n            minimum: 0\n          },\n          minLength: {\n            type: \"integer\",\n            minimum: 0,\n            default: 0\n          },\n          pattern: {\n            type: \"string\",\n            format: \"regex\"\n          },\n          maxItems: {\n            type: \"integer\",\n            minimum: 0\n          },\n          minItems: {\n            type: \"integer\",\n            minimum: 0,\n            default: 0\n          },\n          uniqueItems: {\n            type: \"boolean\",\n            default: false\n          },\n          maxProperties: {\n            type: \"integer\",\n            minimum: 0\n          },\n          minProperties: {\n            type: \"integer\",\n            minimum: 0,\n            default: 0\n          },\n          required: {\n            type: \"array\",\n            items: {\n              type: \"string\"\n            },\n            minItems: 1,\n            uniqueItems: true\n          },\n          enum: {\n            type: \"array\",\n            items: {},\n            minItems: 1,\n            uniqueItems: false\n          },\n          type: {\n            type: \"string\",\n            enum: [\"array\", \"boolean\", \"integer\", \"number\", \"object\", \"string\"]\n          },\n          not: {\n            oneOf: [\n              {\n                $ref:\n                  \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Schema\"\n              },\n              {\n                $ref:\n                  \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Reference\"\n              }\n            ]\n          },\n          allOf: {\n            type: \"array\",\n            items: {\n              oneOf: [\n                {\n                  $ref:\n                    \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Schema\"\n                },\n                {\n                  $ref:\n                    \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Reference\"\n                }\n              ]\n            }\n          },\n          oneOf: {\n            type: \"array\",\n            items: {\n              oneOf: [\n                {\n                  $ref:\n                    \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Schema\"\n                },\n                {\n                  $ref:\n                    \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Reference\"\n                }\n              ]\n            }\n          },\n          anyOf: {\n            type: \"array\",\n            items: {\n              oneOf: [\n                {\n                  $ref:\n                    \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Schema\"\n                },\n                {\n                  $ref:\n                    \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Reference\"\n                }\n              ]\n            }\n          },\n          items: {\n            oneOf: [\n              {\n                $ref:\n                  \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Schema\"\n              },\n              {\n                $ref:\n                  \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Reference\"\n              }\n            ]\n          },\n          properties: {\n            type: \"object\",\n            additionalProperties: {\n              oneOf: [\n                {\n                  $ref:\n                    \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Schema\"\n                },\n                {\n                  $ref:\n                    \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Reference\"\n                }\n              ]\n            }\n          },\n          additionalProperties: {\n            oneOf: [\n              {\n                $ref:\n                  \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Schema\"\n              },\n              {\n                $ref:\n                  \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Reference\"\n              },\n              {\n                type: \"boolean\"\n              }\n            ],\n            default: true\n          },\n          description: {\n            type: \"string\"\n          },\n          format: {\n            type: \"string\"\n          },\n          default: {},\n          nullable: {\n            type: \"boolean\",\n            default: false\n          },\n          discriminator: {\n            $ref:\n              \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Discriminator\"\n          },\n          readOnly: {\n            type: \"boolean\",\n            default: false\n          },\n          writeOnly: {\n            type: \"boolean\",\n            default: false\n          },\n          example: {},\n          externalDocs: {\n            $ref:\n              \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/ExternalDocumentation\"\n          },\n          deprecated: {\n            type: \"boolean\",\n            default: false\n          },\n          xml: {\n            $ref:\n              \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/XML\"\n          }\n        },\n        patternProperties: {\n          \"^x-\": {}\n        },\n        additionalProperties: false\n      }\n    },\n    {\n      uri:\n        \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Reference\",\n      schema: {\n        type: \"object\",\n        required: [\"$ref\"],\n        patternProperties: {\n          \"^\\\\$ref$\": {\n            type: \"string\",\n            format: \"uri-reference\"\n          }\n        }\n      }\n    },\n    {\n      uri:\n        \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/Discriminator\",\n      schema: {\n        type: \"object\",\n        required: [\"propertyName\"],\n        properties: {\n          propertyName: {\n            type: \"string\"\n          },\n          mapping: {\n            type: \"object\",\n            additionalProperties: {\n              type: \"string\"\n            }\n          }\n        }\n      }\n    },\n    {\n      uri:\n        \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/ExternalDocumentation\",\n      schema: {\n        type: \"object\",\n        required: [\"url\"],\n        properties: {\n          description: {\n            type: \"string\"\n          },\n          url: {\n            type: \"string\",\n            format: \"uri-reference\"\n          }\n        },\n        patternProperties: {\n          \"^x-\": {}\n        },\n        additionalProperties: false\n      }\n    },\n    {\n      uri:\n        \"https://spec.openapis.org/oas/3.0/schema/2019-04-02/definitions/XML\",\n      schema: {\n        type: \"object\",\n        properties: {\n          name: {\n            type: \"string\"\n          },\n          namespace: {\n            type: \"string\",\n            format: \"uri\"\n          },\n          prefix: {\n            type: \"string\"\n          },\n          attribute: {\n            type: \"boolean\",\n            default: false\n          },\n          wrapped: {\n            type: \"boolean\",\n            default: false\n          }\n        },\n        patternProperties: {\n          \"^x-\": {}\n        },\n        additionalProperties: false\n      }\n    },\n    {\n      uri: \"https://github.com/Marak/faker.js/Schema\",\n      schema: {\n        oneOf: [\n          {\n            type: \"string\",\n            enum: fakerMethods\n          },\n          {\n            type: \"object\",\n            properties: {\n              fake: {\n                type: \"array\",\n                items: {\n                  type: \"string\"\n                }\n              },\n              ...fakerObjProperties\n            }\n          }\n        ]\n      }\n    },\n    {\n      uri: \"https://chancejs.com/Schema\",\n      schema: {\n        oneOf: [\n          {\n            type: \"string\",\n            enum: chanceMethods\n          },\n          {\n            type: \"object\",\n            properties: chanceObjProperties\n          }\n        ]\n      }\n    }\n  ]\n};\n","import throttle from \"lodash-es/throttle\";\nimport * as monacoEditor from \"monaco-editor/esm/vs/editor/editor.api\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport MonacoEditor from \"react-monaco-editor\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { getObjectByRef } from \"../../shared/utils\";\nimport { getDocument, setRefValue } from \"../document/document-slice\";\nimport { EDITOR_THROTTLE_TIME, GO_TO_REFERENCE_MSG } from \"./constants\";\nimport { EditorContainer } from \"./EditorContainer\";\nimport { monacoDefaultOptions } from \"./monaco-options\";\nimport { jsonDiagnosticOptions } from \"./schemas\";\nimport { useCurrentRef } from \"./useCurrentRef\";\nimport { useEditorResize } from \"./useEditorResize\";\n\nexport const SchemaEditor: React.FC = () => {\n  const document = useSelector(getDocument);\n  const dispatch = useDispatch();\n\n  const currentRef = useCurrentRef();\n  const { projectId, projectName } = useParams<{\n    projectId: string;\n    projectName: string;\n  }>();\n  const history = useHistory();\n\n  const [value, setValue] = useState(\" \");\n\n  const editorRef = useRef<monacoEditor.editor.IStandaloneCodeEditor>();\n\n  useEffect(() => {\n    if (document && currentRef) {\n      const refValue = JSON.stringify(\n        getObjectByRef(currentRef, document),\n        null,\n        2\n      );\n      setValue(refValue);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentRef]);\n\n  const containerRef = useEditorResize(editorRef);\n  const commandRef = useRef<string | null>(null);\n\n  useEffect(() => {\n    const disposable = monacoEditor.languages.registerCodeLensProvider(\"json\", {\n      provideCodeLenses: (model): monacoEditor.languages.CodeLensList => {\n        if (commandRef.current == null) {\n          return { lenses: [], dispose: () => {} };\n        }\n\n        const matches = model.findMatches(\n          `\"\\\\$ref\":\\\\s*\"(#.*)\"`,\n          false,\n          true,\n          false,\n          null,\n          true\n        );\n        const lenses = matches.map(m => {\n          const res: monacoEditor.languages.CodeLens = {\n            range: m.range,\n            command: {\n              title: GO_TO_REFERENCE_MSG,\n              id: commandRef.current!,\n              arguments: [m.matches?.[1]]\n            }\n          };\n          return res;\n        });\n        return { lenses, dispose: () => {} };\n      },\n      resolveCodeLens: (_, codeLens) => {\n        return codeLens;\n      }\n    });\n\n    return () => {\n      disposable.dispose();\n    };\n  }, []);\n\n  const options: monacoEditor.editor.IStandaloneEditorConstructionOptions = {\n    ...monacoDefaultOptions,\n    ariaLabel: \"current schema editor\"\n  };\n\n  const onChange = (v: string) => {\n    if (currentRef) {\n      setValue(v);\n      dispatch(setRefValue({ ref: currentRef, value: v }));\n    }\n  };\n\n  const editorWillMount = (monaco: typeof monacoEditor) => {\n    monaco.languages.json.jsonDefaults.setDiagnosticsOptions(\n      jsonDiagnosticOptions\n    );\n  };\n\n  const editorDidMount = (\n    editor: monacoEditor.editor.IStandaloneCodeEditor\n  ) => {\n    editorRef.current = editor;\n    editor.focus();\n\n    commandRef.current = editorRef.current.addCommand(0, (_, ref: string) => {\n      history.push(`/${projectId}/${projectName}/${encodeURIComponent(ref)}`);\n    });\n  };\n\n  return (\n    <EditorContainer data-testid=\"schema-editor\" ref={containerRef}>\n      <MonacoEditor\n        language=\"json\"\n        value={value}\n        onChange={throttle(onChange, EDITOR_THROTTLE_TIME)}\n        editorWillMount={editorWillMount}\n        editorDidMount={editorDidMount}\n        options={options}\n      ></MonacoEditor>\n    </EditorContainer>\n  );\n};\n","export const EDITOR_THROTTLE_TIME = 100;\nexport const GO_TO_REFERENCE_MSG = \"Go to reference\";\n","import Col from \"antd/es/col\";\nimport Row from \"antd/es/row\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { GeneratedEditor } from \"./GeneratedEditor\";\nimport { SchemaEditor } from \"./SchemaEditor\";\n\nconst StyledRow = styled(Row)`\n  height: 100%;\n`;\n\nconst StyledCol = styled(Col)`\n  height: 100%;\n`;\n\nconst EditorsWrapper: React.FC = () => (\n  <StyledRow>\n    <StyledCol span={12}>\n      <SchemaEditor></SchemaEditor>\n    </StyledCol>\n    <StyledCol span={12}>\n      <GeneratedEditor></GeneratedEditor>\n    </StyledCol>\n  </StyledRow>\n);\n\nexport default EditorsWrapper;\n"],"sourceRoot":""}